
[tool:pytest]
testpaths = services\admin-api\tests\test_alerting_service.py, services\admin-api\tests\test_auth.py, services\admin-api\tests\test_config_endpoints.py, services\admin-api\tests\test_devices_endpoints.py, services\admin-api\tests\test_events_endpoints.py, services\admin-api\tests\test_logging_service.py, services\admin-api\tests\test_metrics_service.py, services\admin-api\tests\test_monitoring_endpoints.py, services\admin-api\tests\test_stats_endpoints.py, services\admin-api\tests\test_stats_endpoints_simple.py, services\ai-automation-service-new\tests\test_homeiq_json_schema.py, services\ai-automation-service-new\tests\test_json_to_yaml.py, services\ai-automation-service-new\tests\test_json_verification.py, services\ai-automation-service-new\tests\test_json_workflow.py, services\ai-automation-service-new\tests\test_performance.py, services\ai-automation-service-new\tests\test_safety_validation.py, services\ai-automation-service-new\tests\test_suggestion_router.py, services\ai-automation-service-new\tests\test_version_aware_renderer.py, services\ai-automation-service-new\tests\test_yaml_validation.py, services\ai-code-executor\tests\test_sandbox_security.py, services\ai-pattern-service\tests\test_clients.py, services\ai-pattern-service\tests\test_crud_patterns.py, services\ai-pattern-service\tests\test_crud_synergies.py, services\ai-pattern-service\tests\test_learning.py, services\ai-pattern-service\tests\test_pattern_analyzer.py, services\ai-pattern-service\tests\test_scheduler.py, services\ai-query-service\tests\test_performance.py, services\ai-query-service\tests\test_query_processor.py, services\ai-query-service\tests\test_query_router.py, services\ai-training-service\tests\test_crud_training.py, services\ai-training-service\tests\test_training_router.py, services\automation-miner\tests\test_api.py, services\automation-miner\tests\test_blueprint_parser.py, services\automation-miner\tests\test_deduplicator.py, services\automation-miner\tests\test_parser.py, services\calendar-service\tests\test_event_parser.py, services\data-api\tests\test_entity_registry.py, services\data-api\tests\test_entity_registry_endpoints.py, services\data-api\tests\test_flux_security.py, services\data-api\tests\test_hygiene_endpoints.py, services\data-api\tests\test_models.py, services\data-retention\tests\test_backup_restore.py, services\data-retention\tests\test_data_cleanup.py, services\data-retention\tests\test_retention_policy.py, services\device-intelligence-service\tests\test_device_mappings.py, services\device-intelligence-service\tests\test_device_mappings_api.py, services\device-intelligence-service\tests\test_hue_handler.py, services\device-intelligence-service\tests\test_hygiene_analyzer.py, services\device-intelligence-service\tests\test_hygiene_router.py, services\device-intelligence-service\tests\test_model_training.py, services\device-intelligence-service\tests\test_remediation_service.py, services\device-intelligence-service\tests\test_synthetic_device_generator.py, services\device-intelligence-service\tests\test_synthetic_generator_manual.py, services\device-intelligence-service\tests\test_wled_handler.py, services\ha-ai-agent-service\tests\test_ai_automation_client.py, services\ha-ai-agent-service\tests\test_areas_service.py, services\ha-ai-agent-service\tests\test_capability_patterns_service.py, services\ha-ai-agent-service\tests\test_chat_endpoints.py, services\ha-ai-agent-service\tests\test_chat_performance.py, services\ha-ai-agent-service\tests\test_context_builder.py, services\ha-ai-agent-service\tests\test_conversation_endpoints.py, services\ha-ai-agent-service\tests\test_conversation_service.py, services\ha-ai-agent-service\tests\test_device_intelligence_client.py, services\ha-ai-agent-service\tests\test_entity_inventory_service.py, services\ha-ai-agent-service\tests\test_ha_tools.py, services\ha-ai-agent-service\tests\test_helpers_scenes_service.py, services\ha-ai-agent-service\tests\test_performance.py, services\ha-ai-agent-service\tests\test_prompt_assembly_service.py, services\ha-ai-agent-service\tests\test_services_summary_service.py, services\ha-ai-agent-service\tests\test_tool_service.py, services\ha-setup-service\tests\test_environment_health_endpoint.py, services\ha-setup-service\tests\test_suggestion_engine.py, services\ha-setup-service\tests\test_validation_service.py, services\ha-simulator\tests\test_websocket_server.py, services\openvino-service\tests\test_embeddings.py, services\openvino-service\tests\test_model_loading.py, services\openvino-service\tests\test_ner.py, services\openvino-service\tests\test_performance.py, services\openvino-service\tests\test_reranking.py, services\proactive-agent-service\tests\test_clients.py, services\proactive-agent-service\tests\test_context_analysis_service.py, services\proactive-agent-service\tests\test_ha_agent_client.py, services\proactive-agent-service\tests\test_prompt_generation_service.py, services\proactive-agent-service\tests\test_suggestion_storage_service.py, services\websocket-ingestion\tests\test_async_event_processor.py, services\websocket-ingestion\tests\test_batch_processor.py, services\websocket-ingestion\tests\test_connection_manager_enhanced.py, services\websocket-ingestion\tests\test_entity_filter.py, services\websocket-ingestion\tests\test_error_handler.py, services\websocket-ingestion\tests\test_event_processor.py, services\websocket-ingestion\tests\test_event_queue.py, services\websocket-ingestion\tests\test_event_rate_monitor.py, services\websocket-ingestion\tests\test_event_subscription.py, services\websocket-ingestion\tests\test_influxdb_batch_writer.py, services\websocket-ingestion\tests\test_influxdb_client.py, services\websocket-ingestion\tests\test_influxdb_schema.py, services\websocket-ingestion\tests\test_models.py, services\websocket-ingestion\tests\test_state_machine.py, services\websocket-ingestion\tests\test_token_validator.py, services\websocket-ingestion\tests\test_weather_cache.py, services\websocket-ingestion\tests\test_weather_client.py, services\websocket-ingestion\tests\test_websocket_client.py, services\yaml-validation-service\tests\test_normalizer.py, services\yaml-validation-service\tests\test_renderer.py, services\yaml-validation-service\tests\test_schema.py, services\yaml-validation-service\tests\test_validator.py
python_files = test_*.py
python_classes = Test*
python_functions = test_*
addopts = 
    --verbose
    --tb=short
    --cov=src
    --cov-report=html:C:\cursor\HomeIQ\test-results\coverage\python
    --cov-report=xml:C:\cursor\HomeIQ\test-results\coverage\python/coverage.xml
    --cov-report=term-missing
    --cov-fail-under=70
    --maxfail=5
    --disable-warnings
markers =
    unit: Unit tests only
    integration: Integration tests
    e2e: End-to-end tests
    visual: Visual tests
