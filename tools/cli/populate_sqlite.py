
import asyncio
import sys
import os
from datetime import datetime

# Add the src directory to the path
sys.path.append('/app/src')

from database import AsyncSessionLocal, init_db
from models.device import Device
from models.entity import Entity

async def populate_devices():
    """Populate SQLite with devices from InfluxDB"""
    
    # Initialize database
    await init_db()
    
    # Device data from InfluxDB
    devices_data = [{'device_id': '016d91704988d4cad85574008d5dbc85', 'name': None, 'manufacturer': 'Samsung Electronics', 'model': 'UN65TU700DFXZA', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390377, tzinfo=datetime.timezone.utc)}, {'device_id': '07765655ee253761bb57e33b0b04aa6b', 'name': None, 'manufacturer': 'Aqara', 'model': 'PS-S02E', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390535, tzinfo=datetime.timezone.utc)}, {'device_id': '0d88f44293e6ff8430664330035f66f5', 'name': None, 'manufacturer': 'Signify Netherlands B.V.', 'model': 'Hue color downlight', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390520, tzinfo=datetime.timezone.utc)}, {'device_id': '0ff21f89d2b16168e8a1ba4df52f8513', 'name': None, 'manufacturer': 'Signify Netherlands B.V.', 'model': 'Room', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390493, tzinfo=datetime.timezone.utc)}, {'device_id': '131ff0d806755b5f2283f2d2e32613f0', 'name': None, 'manufacturer': 'Roborock', 'model': 'roborock.vacuum.a70 Dock', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390549, tzinfo=datetime.timezone.utc)}, {'device_id': '1428d8fb69f54b952478612aa0aab1d7', 'name': None, 'manufacturer': 'Signify Netherlands B.V.', 'model': 'Hue tap dial switch', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390545, tzinfo=datetime.timezone.utc)}, {'device_id': '1438ea191c7c4094afea0f6e677d2f12', 'name': None, 'manufacturer': 'Signify Netherlands B.V.', 'model': 'Hue tap dial switch', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390341, tzinfo=datetime.timezone.utc)}, {'device_id': '14927fcc883c76c7d5e13384a93c6e7a', 'name': None, 'manufacturer': 'Denon', 'model': 'Denon AVR-X6500H', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390303, tzinfo=datetime.timezone.utc)}, {'device_id': '1686a371b6325715b493a5e1d4125a5b', 'name': None, 'manufacturer': 'Signify Netherlands B.V.', 'model': 'Zone', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390497, tzinfo=datetime.timezone.utc)}, {'device_id': '16f0f4b17c36fec4c426d2f55f4513ec', 'name': None, 'manufacturer': 'Sony', 'model': 'BRAVIA 4K UR2', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390152, tzinfo=datetime.timezone.utc)}, {'device_id': '176af1c395dcb9baec7545e4d94a2d60', 'name': None, 'manufacturer': 'Signify Netherlands B.V.', 'model': 'Hue lightstrip outdoor', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390500, tzinfo=datetime.timezone.utc)}, {'device_id': '1ad8a504c135ee1c5c9661d0f6a5a153', 'name': None, 'manufacturer': 'Official add-ons', 'model': 'Home Assistant Add-on', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390252, tzinfo=datetime.timezone.utc)}, {'device_id': '1ba44a8f25eab1397cb48dd7b743edcd', 'name': None, 'manufacturer': None, 'model': None, 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390057, tzinfo=datetime.timezone.utc)}, {'device_id': '1c0de85ffbffe283370a4b3617b99a76', 'name': None, 'manufacturer': 'Signify Netherlands B.V.', 'model': 'Hue go', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390286, tzinfo=datetime.timezone.utc)}, {'device_id': '1c8e7029bf3a9c73dc59d1fb184e38a1', 'name': None, 'manufacturer': 'Home Assistant Community Add-ons', 'model': 'Home Assistant Add-on', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390299, tzinfo=datetime.timezone.utc)}, {'device_id': '1d6db501fd028146bbb73f7b1bdab386', 'name': None, 'manufacturer': 'Apple', 'model': 'iPhone15,3', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390164, tzinfo=datetime.timezone.utc)}, {'device_id': '1dd3ab5e829b91cf88eee768a3c20f5b', 'name': None, 'manufacturer': 'hacs.xyz', 'model': None, 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390255, tzinfo=datetime.timezone.utc)}, {'device_id': '221d1847efa7703225865d9bc7fe391b', 'name': None, 'manufacturer': 'Apple', 'model': 'Apple TV 4K (gen 3)', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390296, tzinfo=datetime.timezone.utc)}, {'device_id': '2571f09227468485b894d3b5b222005c', 'name': None, 'manufacturer': 'Sony', 'model': 'BRAVIA 4K VH2', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390234, tzinfo=datetime.timezone.utc)}, {'device_id': '2922f76e27423ec2da97fd70893c4418', 'name': None, 'manufacturer': 'Signify Netherlands B.V.', 'model': 'Hue play', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390382, tzinfo=datetime.timezone.utc)}, {'device_id': '2ba1b825a75a1474025c011d6ae0daba', 'name': None, 'manufacturer': 'Apple', 'model': 'iPad13,6', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390514, tzinfo=datetime.timezone.utc)}, {'device_id': '34a115e84c4e99bbc1ff4b6662a46fa3', 'name': None, 'manufacturer': 'ljmerza', 'model': 'plugin', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390354, tzinfo=datetime.timezone.utc)}, {'device_id': '356ff5de33b969be487c847620b532c0', 'name': None, 'manufacturer': 'Met.no', 'model': 'Forecast', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390157, tzinfo=datetime.timezone.utc)}, {'device_id': '358ae5c50ee47643b2e76ebaf42c69e0', 'name': None, 'manufacturer': 'Home Assistant', 'model': 'Home Assistant Core', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390124, tzinfo=datetime.timezone.utc)}, {'device_id': '36e6f9ea2acc0c693744ec97e99911d7', 'name': None, 'manufacturer': 'Signify Netherlands B.V.', 'model': 'Hue color downlight', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390177, tzinfo=datetime.timezone.utc)}, {'device_id': '398e0b09915a3ab084dd865baf2ecbeb', 'name': None, 'manufacturer': 'Roborock', 'model': 'roborock.vacuum.a70', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390542, tzinfo=datetime.timezone.utc)}, {'device_id': '3fd10a1c6024448fd979a72275c5129a', 'name': None, 'manufacturer': 'Signify Netherlands B.V.', 'model': 'Hue color downlight', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390330, tzinfo=datetime.timezone.utc)}, {'device_id': '4163d837009a9213cbd9564f758887fd', 'name': None, 'manufacturer': 'WLED', 'model': 'FOSS', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390473, tzinfo=datetime.timezone.utc)}, {'device_id': '41a2a715253127e299a7e67b8c258500', 'name': None, 'manufacturer': 'Signify Netherlands B.V.', 'model': 'Hue color downlight', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390403, tzinfo=datetime.timezone.utc)}, {'device_id': '44fdb8c2170e98dd30d4fb913597e884', 'name': None, 'manufacturer': 'Signify Netherlands B.V.', 'model': 'Hue Smart button', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390455, tzinfo=datetime.timezone.utc)}, {'device_id': '450de9ce88ce66014e69677059ba34b1', 'name': None, 'manufacturer': 'Signify Netherlands B.V.', 'model': 'Room', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390447, tzinfo=datetime.timezone.utc)}, {'device_id': '45c7b8826b4ea644823e2e78953b681d', 'name': None, 'manufacturer': 'WLED', 'model': 'FOSS', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390363, tzinfo=datetime.timezone.utc)}, {'device_id': '465af23503383f41ed582373f133daed', 'name': None, 'manufacturer': 'Home Assistant', 'model': 'Home Assistant Supervisor', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390134, tzinfo=datetime.timezone.utc)}, {'device_id': '468390a4b8dfe850238730c7fe88e397', 'name': None, 'manufacturer': 'Home Assistant Add-on: Zigbee2MQTT', 'model': 'Home Assistant Add-on', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390512, tzinfo=datetime.timezone.utc)}, {'device_id': '49906b938d733f13d3560bd206cb8768', 'name': None, 'manufacturer': 'WLED', 'model': 'FOSS', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390390, tzinfo=datetime.timezone.utc)}, {'device_id': '4a6f720be2e5043a68479f270219a56c', 'name': None, 'manufacturer': 'Home Assistant Community Add-ons', 'model': 'Home Assistant Add-on', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390247, tzinfo=datetime.timezone.utc)}, {'device_id': '4a9b6134c4a09d0103aded4e4629382a', 'name': None, 'manufacturer': 'TP-Link', 'model': 'Archer BE800', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390227, tzinfo=datetime.timezone.utc)}, {'device_id': '4d4af8604ba5e5f8ebd673b56a7b9f77', 'name': None, 'manufacturer': 'Raspberry Pi (Trading) Ltd', 'model': 'bcm43438-bt', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390116, tzinfo=datetime.timezone.utc)}, {'device_id': '4d6d7b535b04d41887e5a987d73ed38d', 'name': None, 'manufacturer': 'Signify Netherlands B.V.', 'model': 'Room', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390292, tzinfo=datetime.timezone.utc)}, {'device_id': '4f95929f6da05bb0720dd3566231fa80', 'name': None, 'manufacturer': 'Signify Netherlands B.V.', 'model': 'Hue color downlight', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390450, tzinfo=datetime.timezone.utc)}, {'device_id': '50f33be4911fdda047a2e6383ca5ba98', 'name': None, 'manufacturer': 'Signify Netherlands B.V.', 'model': 'Room', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390415, tzinfo=datetime.timezone.utc)}, {'device_id': '532fade6a196d5bbe44805203e20c8ba', 'name': None, 'manufacturer': 'Signify Netherlands B.V.', 'model': 'Zone', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390337, tzinfo=datetime.timezone.utc)}, {'device_id': '5505d9c7ec3b86e2586ddc71034004bc', 'name': None, 'manufacturer': 'HP', 'model': 'Tango', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390221, tzinfo=datetime.timezone.utc)}, {'device_id': '55fb582f1fd3b459c34789a5347a5a35', 'name': None, 'manufacturer': 'Signify Netherlands B.V.', 'model': 'Hue color downlight', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390182, tzinfo=datetime.timezone.utc)}, {'device_id': '5715678056939a0a647ef0ee2312a91e', 'name': None, 'manufacturer': 'Signify Netherlands B.V.', 'model': 'Hue Bridge', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390190, tzinfo=datetime.timezone.utc)}, {'device_id': '573c19ad865b3cba0c31d330ed9c198c', 'name': None, 'manufacturer': 'Home Assistant', 'model': 'TelevisionMediaPlayer', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390529, tzinfo=datetime.timezone.utc)}, {'device_id': '5937ca2677c74622f1f40073ab275916', 'name': None, 'manufacturer': 'Denon', 'model': 'AVR-X6500H', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390360, tzinfo=datetime.timezone.utc)}, {'device_id': '5a44cda5a4367660ebae4195fb032bfd', 'name': None, 'manufacturer': 'Home Assistant', 'model': 'Home Assistant Backup', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390552, tzinfo=datetime.timezone.utc)}, {'device_id': '5aea75db24e3a30b2941b73ec87cc6d7', 'name': None, 'manufacturer': 'Signify Netherlands B.V.', 'model': 'Hue color downlight', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390321, tzinfo=datetime.timezone.utc)}, {'device_id': '5ff313f500e144e524dd0c46910f3699', 'name': None, 'manufacturer': 'Signify Netherlands B.V.', 'model': 'Hue color downlight', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390481, tzinfo=datetime.timezone.utc)}, {'device_id': '603c07b7a7096b280ac6316c78dd1c1f', 'name': None, 'manufacturer': 'Signify Netherlands B.V.', 'model': 'Hue color downlight', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390407, tzinfo=datetime.timezone.utc)}, {'device_id': '61234ae84aba13edf830eb7c5a7e3ae8', 'name': None, 'manufacturer': 'Signify Netherlands B.V.', 'model': 'Hue color downlight', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390399, tzinfo=datetime.timezone.utc)}, {'device_id': '6561eb3358a11f607885f8458a4ec0f3', 'name': None, 'manufacturer': 'Signify Netherlands B.V.', 'model': 'Room', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390503, tzinfo=datetime.timezone.utc)}, {'device_id': '6a01297170e5de4b9575506f96726341', 'name': None, 'manufacturer': 'Signify Netherlands B.V.', 'model': 'Hue color downlight', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390419, tzinfo=datetime.timezone.utc)}, {'device_id': '71d5add6cf1f844d6f9bb34a3b58a09d', 'name': None, 'manufacturer': 'Signify Netherlands B.V.', 'model': 'Room', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390209, tzinfo=datetime.timezone.utc)}, {'device_id': '73678d8932d1a9468ad08e4b9a374982', 'name': None, 'manufacturer': 'Home Assistant', 'model': 'HomeBridge', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390532, tzinfo=datetime.timezone.utc)}, {'device_id': '74d172c78a039d86df8db92071ae23ca', 'name': None, 'manufacturer': 'Official add-ons', 'model': 'Home Assistant Add-on', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390238, tzinfo=datetime.timezone.utc)}, {'device_id': '7d629a8f074b5255c00f1b7623858ae1', 'name': None, 'manufacturer': 'Music Assistant', 'model': 'Home Assistant Add-on', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390349, tzinfo=datetime.timezone.utc)}, {'device_id': '7f06194f4aa68e8d3cee5b1f1b9e42d9', 'name': None, 'manufacturer': 'Home Assistant', 'model': 'Home Assistant Operating System', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390145, tzinfo=datetime.timezone.utc)}, {'device_id': '7fd668e48618fd95873b9cbab02ec1d1', 'name': None, 'manufacturer': 'Signify Netherlands B.V.', 'model': 'Room', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390289, tzinfo=datetime.timezone.utc)}, {'device_id': '8003f7867475ef6e6c1ca8c027a0dbed', 'name': None, 'manufacturer': 'Signify Netherlands B.V.', 'model': 'Room', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390317, tzinfo=datetime.timezone.utc)}, {'device_id': '821bbb8b77b495257c6bd4e0b321f917', 'name': None, 'manufacturer': 'Signify Netherlands B.V.', 'model': 'Zone', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390334, tzinfo=datetime.timezone.utc)}, {'device_id': '83a79c49d11e17225d6ac1ab334721fe', 'name': None, 'manufacturer': 'Home Assistant', 'model': 'ReceiverMediaPlayer', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390525, tzinfo=datetime.timezone.utc)}, {'device_id': '866a28e88878fa73449cd7a284880243', 'name': None, 'manufacturer': 'OpenAI', 'model': 'gpt-4o-mini', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390477, tzinfo=datetime.timezone.utc)}, {'device_id': '921dc2bbd5638e496c24d951b9835e8f', 'name': None, 'manufacturer': 'Signify Netherlands B.V.', 'model': 'Hue color downlight', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390325, tzinfo=datetime.timezone.utc)}, {'device_id': '94ba4139a40769e5de0c10793acce546', 'name': None, 'manufacturer': 'Samsung', 'model': 'UN65TU700DFXZA', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390224, tzinfo=datetime.timezone.utc)}, {'device_id': '9509f5f274612c9652c50782feb7ae37', 'name': None, 'manufacturer': 'OpenAI', 'model': 'gpt-4o-mini', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390557, tzinfo=datetime.timezone.utc)}, {'device_id': '980f1196b64cecac2b34889ded9dee6b', 'name': None, 'manufacturer': 'Signify Netherlands B.V.', 'model': 'Room', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390462, tzinfo=datetime.timezone.utc)}, {'device_id': '98490ee7391611ef98aea8675c1f3119', 'name': None, 'manufacturer': 'thomasloven', 'model': 'plugin', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390352, tzinfo=datetime.timezone.utc)}, {'device_id': '9a9d7a25b646d27f84d852be7c8e8db5', 'name': None, 'manufacturer': 'Home Assistant Community Add-ons', 'model': 'Home Assistant Add-on', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390245, tzinfo=datetime.timezone.utc)}, {'device_id': '9bd990c353488e1d6737e420d8a5c747', 'name': None, 'manufacturer': 'SMLIGHT', 'model': 'SLZB-06p7', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390508, tzinfo=datetime.timezone.utc)}, {'device_id': '9e2efce4869c8d181d2be0bb81d3e7aa', 'name': None, 'manufacturer': 'Signify Netherlands B.V.', 'model': 'Festavia string lights', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390465, tzinfo=datetime.timezone.utc)}, {'device_id': '9edd1731ca65db010bf4cf68307c0f9d', 'name': None, 'manufacturer': 'WLED', 'model': 'FOSS', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390393, tzinfo=datetime.timezone.utc)}, {'device_id': 'a41d67691cabdbcdc3554287e53bd589', 'name': None, 'manufacturer': 'Signify Netherlands B.V.', 'model': 'Festavia string lights', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390459, tzinfo=datetime.timezone.utc)}, {'device_id': 'ad92d2f2998f0539797ca916e2460d74', 'name': None, 'manufacturer': 'Signify Netherlands B.V.', 'model': 'Hue color downlight', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390490, tzinfo=datetime.timezone.utc)}, {'device_id': 'b232936c5e54ae6eb163a21eca60a0a0', 'name': None, 'manufacturer': 'Home Assistant Community Add-ons', 'model': 'Home Assistant Add-on', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390241, tzinfo=datetime.timezone.utc)}, {'device_id': 'bb7dd621f20b3d113a68336581471748', 'name': None, 'manufacturer': 'WLED', 'model': 'FOSS', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390368, tzinfo=datetime.timezone.utc)}, {'device_id': 'c0070ae3ca3271e5c18c37fc1beaf0e8', 'name': None, 'manufacturer': 'Signify Netherlands B.V.', 'model': 'Hue lightstrip outdoor', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390505, tzinfo=datetime.timezone.utc)}, {'device_id': 'c79b2367a8bedb4f449f3f769db0d1cb', 'name': None, 'manufacturer': 'Hisense', 'model': 'SmartTV 4K', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390345, tzinfo=datetime.timezone.utc)}, {'device_id': 'c8565800d944cd5f6aa1f8abc95d4356', 'name': None, 'manufacturer': 'Signify Netherlands B.V.', 'model': 'Room', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390386, tzinfo=datetime.timezone.utc)}, {'device_id': 'd160a5dd2a59549bb773fc35428e6ef3', 'name': None, 'manufacturer': 'Signify Netherlands B.V.', 'model': 'Zone', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390216, tzinfo=datetime.timezone.utc)}, {'device_id': 'd3b604ea277c64dff57c98540601961c', 'name': None, 'manufacturer': 'Official add-ons', 'model': 'Home Assistant Add-on', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390307, tzinfo=datetime.timezone.utc)}, {'device_id': 'd99d56ea58e9db682a8657b3892f9b0e', 'name': None, 'manufacturer': 'Signify Netherlands B.V.', 'model': 'Hue color downlight', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390187, tzinfo=datetime.timezone.utc)}, {'device_id': 'dbff507d9d46fb3c8612c67d133e4d1d', 'name': None, 'manufacturer': None, 'model': None, 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390468, tzinfo=datetime.timezone.utc)}, {'device_id': 'e4fc3f0847ab9d579eb99da64694a4d7', 'name': None, 'manufacturer': 'Signify Netherlands B.V.', 'model': 'Room', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390212, tzinfo=datetime.timezone.utc)}, {'device_id': 'e70647f8a30b40f2d3396d5383a93880', 'name': None, 'manufacturer': 'Signify Netherlands B.V.', 'model': 'Hue color downlight', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390170, tzinfo=datetime.timezone.utc)}, {'device_id': 'e7f4d33f88387d8abab8bdeac03a1acc', 'name': None, 'manufacturer': 'Home Assistant Community Add-ons', 'model': 'Home Assistant Add-on', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390231, tzinfo=datetime.timezone.utc)}, {'device_id': 'eca71f35d1ff44a1149dedc519f0d27a', 'name': None, 'manufacturer': 'Signify Netherlands B.V.', 'model': 'Hue color downlight', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390411, tzinfo=datetime.timezone.utc)}, {'device_id': 'edeb9a2f1fff430ae9a3d7e8d2710752', 'name': None, 'manufacturer': 'Signify Netherlands B.V.', 'model': 'Hue color downlight', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390194, tzinfo=datetime.timezone.utc)}, {'device_id': 'f2a41441fb08d58fc6d0209208d7f7e1', 'name': None, 'manufacturer': 'Home Assistant', 'model': 'Home Assistant Host', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390140, tzinfo=datetime.timezone.utc)}, {'device_id': 'f53d6da537d76c7718c8b53d112c4d17', 'name': None, 'manufacturer': 'Signify Netherlands B.V.', 'model': 'Hue color downlight', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390424, tzinfo=datetime.timezone.utc)}, {'device_id': 'f5b091721a0834a63411f5b3835b50fd', 'name': None, 'manufacturer': 'Signify Netherlands B.V.', 'model': 'Hue color downlight', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390310, tzinfo=datetime.timezone.utc)}, {'device_id': 'f5d4aa05fda5e82f073a256046febc7f', 'name': None, 'manufacturer': 'Signify Netherlands B.V.', 'model': 'Hue color downlight', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390200, tzinfo=datetime.timezone.utc)}, {'device_id': 'fcd00ad30ecc59d750171eb85ad43240', 'name': None, 'manufacturer': 'Apple', 'model': 'iPhone17,2', 'sw_version': None, 'area_id': None, 'last_seen': datetime.datetime(2025, 10, 14, 1, 35, 18, 390372, tzinfo=datetime.timezone.utc)}]
    
    async with AsyncSessionLocal() as session:
        # Clear existing devices
        await session.execute("DELETE FROM devices")
        await session.execute("DELETE FROM entities")
        await session.commit()
        
        # Insert devices
        for device_data in devices_data:
            device = Device(
                device_id=device_data["device_id"],
                name=device_data["name"],
                manufacturer=device_data["manufacturer"],
                model=device_data["model"],
                sw_version=device_data["sw_version"],
                area_id=device_data["area_id"],
                last_seen=device_data["last_seen"]
            )
            session.add(device)
        
        await session.commit()
        print(f"Inserted {len(devices_data)} devices into SQLite")

if __name__ == "__main__":
    asyncio.run(populate_devices())
