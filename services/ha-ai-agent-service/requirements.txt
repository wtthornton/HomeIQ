# HA AI Agent Service Dependencies
# Epic AI-19: Tier 1 Context Injection

# Web Framework
fastapi>=0.123.0,<0.124.0  # Stable 0.123.x series (December 2025)
uvicorn[standard]>=0.32.0,<0.33.0  # Stable 0.32.x series with standard extras

# Data Validation
pydantic==2.12.4
pydantic-settings==2.12.0

# HTTP Client
aiohttp>=3.13.2,<3.14.0  # Async HTTP client for HA API calls
httpx>=0.28.1,<0.29.0  # Alternative HTTP client if needed
tenacity>=8.3.0,<9.0.0  # Retry library for API calls

# WebSocket Client (2025 Best Practice: Use WebSocket API for area registry)
websockets>=12.0,<13.0  # WebSocket client for Home Assistant API

# Database
sqlalchemy==2.0.46  # Phase 1 upgrade - aiosqlite 0.22.1 compatibility
alembic==1.18.3  # Phase 1 upgrade - latest stable
aiosqlite==0.22.1  # Phase 1 upgrade - futures-based (no threading.Thread)

# OpenAI Integration (Epic AI-20)
openai>=1.54.0,<2.0.0  # OpenAI Python SDK 1.54+ (2025 best practices)
tiktoken>=0.8.0,<1.0.0  # Token counting for OpenAI models

# Utilities
python-dotenv==1.2.1
pyyaml>=6.0.1,<7.0.0  # YAML parsing for automation validation

# Testing
pytest==8.3.3
pytest-asyncio==0.23.0
httpx>=0.28.1,<0.29.0  # For testing

