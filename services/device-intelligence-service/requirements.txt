# Device Intelligence Service Dependencies

# FastAPI and ASGI server
fastapi>=0.123.0,<0.124.0  # Stable 0.123.x series (December 2025)
uvicorn[standard]>=0.32.0,<0.33.0  # Stable 0.32.x series with standard extras

# Pydantic for settings and data validation
pydantic>=2.12.4,<3.0.0  # Unpinned for patch updates
pydantic-settings>=2.12.0,<3.0.0  # Unpinned for patch updates

# Database and ORM
sqlalchemy>=2.0.44,<3.0.0  # Unpinned for patch updates
aiosqlite>=0.21.0,<0.22.0  # Unpinned for patch updates
alembic>=1.17.2,<2.0.0  # Unpinned for patch updates

# HTTP client for external APIs
httpx>=0.28.1,<0.29.0  # Latest stable (2025 - Epic 41)
aiohttp>=3.13.2,<4.0.0  # Unpinned for patch updates
tenacity>=8.0.0,<9.0.0  # Retry logic for API calls - unpinned for patch updates

# YAML configuration support (Epic AI-24: Device Mapping Library)
PyYAML>=6.0.1,<7.0.0  # YAML configuration files for device mappings

# WebSocket client
websockets>=12.0,<13.0.0  # Unpinned for patch updates

# MQTT client
paho-mqtt>=1.6.1,<2.0.0  # Unpinned for patch updates

# System monitoring
psutil>=7.1.3,<8.0.0  # Unpinned for patch updates

# Development and testing
pytest>=8.3.3,<9.0.0  # Unpinned for patch updates
pytest-asyncio>=0.23.0,<1.0.0  # Unpinned for patch updates
pytest-cov>=5.0.0,<6.0.0  # Unpinned for patch updates

# Code quality
black>=23.11.0,<24.0.0  # Unpinned for patch updates
isort>=5.12.0,<6.0.0  # Unpinned for patch updates
flake8>=6.1.0,<7.0.0  # Unpinned for patch updates

# Type checking
mypy>=1.7.1,<2.0.0  # Unpinned for patch updates
types-psutil>=6.1.0.20241022  # Unpinned for patch updates (types packages use date versions)

# Machine Learning and Analytics (use pre-compiled wheels)
scikit-learn>=1.5.0,<2.0.0  # Latest stable (2025) - NUC CPU-only compatible
pandas>=2.2.0,<3.0.0  # Stable pandas 2.x (2025)
numpy>=1.26.0,<1.27.0  # Stable NumPy 1.26.x (CPU-only, compatible with pandas and scikit-learn)
joblib==1.4.2
lightgbm>=4.0.0,<5.0.0  # LightGBM for faster training (2-5x speedup, 2025 improvement)
tabpfn>=2.2.0,<7.0.0  # TabPFN for instant predictions (5-10x faster, 2025 improvement)
river>=0.21.0,<1.0.0  # River for incremental learning (10-50x faster updates, 2025 improvement)

# Scheduling
apscheduler>=3.10.0,<4.0.0  # Stable task scheduler (Epic 46.2: Built-in Nightly Training Scheduler)