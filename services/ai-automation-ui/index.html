<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/robot.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="AI-powered Home Assistant automation suggestion system" />
    <title>HA AutomateAI - Smart Home Intelligence</title>
  </head>
  <body>
    <div id="root"></div>
    <script>
      // Global AFRAME stub to prevent errors from react-force-graph
      // react-force-graph checks for AFRAME globally but we only use 2D graphs
      (function() {
        if (typeof window !== 'undefined') {
          if (!window.AFRAME) {
            window.AFRAME = {
              registerComponent: function() {},
              registerSystem: function() {},
              registerPrimitive: function() {},
              scenes: [],
              version: '1.0.0'
            };
          }
          // Also catch and suppress AFRAME-related errors
          const originalError = window.onerror;
          window.onerror = function(msg, url, line, col, error) {
            if (msg && typeof msg === 'string' && msg.includes('AFRAME')) {
              console.warn('Suppressed AFRAME error (expected for 2D graphs):', msg);
              return true; // Suppress the error
            }
            if (originalError) {
              return originalError(msg, url, line, col, error);
            }
            return false;
          };
        }
      })();
    </script>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>

