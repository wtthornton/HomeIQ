# Story 5.7: Services Tab - Phase 1: Basic Service Cards

## Status
Ready for Review

## Story

**As a** system administrator,  
**I want** a dedicated Services tab showing all 12 services with real-time status,  
**so that** I can quickly monitor service health and identify issues.

## Acceptance Criteria

1. Services tab displays all 12 services in card grid layout
2. Each service card shows:
   - Service name and icon
   - Status indicator (ðŸŸ¢ Healthy, ðŸŸ¡ Warning, ðŸ”´ Error, âšª Stopped)
   - Port number (for external services)
   - Uptime duration
   - Key metrics (requests/min, error rate)
3. Service cards are responsive (3-col desktop, 2-col tablet, 1-col mobile)
4. Real-time status updates every 5 seconds
5. Auto-refresh can be paused/resumed
6. Visual distinction between core services (6) and external data services (6)
7. Quick actions: View Details, Configure

## Dev Notes

**Context7 KB Used:**
- React dashboard UI patterns (`docs/kb/context7-cache/react-dashboard-ui-patterns.md`)
- Card component pattern with Tailwind CSS
- Responsive grid layouts
- Status badge patterns

**Technical Approach:**
- Create `ServicesTab.tsx` component
- Use existing `useHealth` hook for service data
- Follow Tailwind CSS patterns from existing Dashboard
- Create `ServiceCard` component for reusability
- Use auto-refresh pattern from Dashboard

**API Endpoint:**
- Existing: `GET /api/v1/services` (already implemented)

## Tasks / Subtasks

- [x] Task 1: Create ServiceCard component (AC: 2, 3)
  - [x] Create `services/health-dashboard/src/components/ServiceCard.tsx`
  - [x] Implement card layout with Tailwind CSS
  - [x] Add status indicator with color coding
  - [x] Display service metrics (port, uptime, requests)
  - [x] Add quick action buttons (View Details, Configure)
  - [x] Make responsive with mobile-first approach

- [x] Task 2: Create ServicesTab component (AC: 1, 4, 5, 6)
  - [x] Create `services/health-dashboard/src/components/ServicesTab.tsx`
  - [x] Implement service grid layout (responsive)
  - [x] Group services (Core vs External Data)
  - [x] Add auto-refresh toggle
  - [x] Fetch service data from API
  - [x] Handle loading and error states

- [x] Task 3: Integrate ServicesTab into Dashboard (AC: 1)
  - [x] Update `services/health-dashboard/src/components/Dashboard.tsx`
  - [x] Replace placeholder content with ServicesTab component
  - [x] Pass darkMode prop to ServicesTab
  - [x] Test tab navigation

- [x] Task 4: Add TypeScript types (AC: All)
  - [x] Define ServiceStatus interface
  - [x] Define ServiceMetrics interface
  - [x] Update `services/health-dashboard/src/types/index.ts`

- [x] Task 5: Write tests (AC: All)
  - [x] Unit tests for ServiceCard component
  - [x] Unit tests for ServicesTab component
  - [x] Integration test for service data fetching
  - [x] Create test setup documentation

## Testing

### Unit Tests
- ServiceCard renders correctly with all props
- Status indicator shows correct color for each status
- Quick action buttons are clickable
- Responsive classes applied correctly

### Integration Tests
- ServicesTab fetches service data from API
- Auto-refresh updates service status every 5 seconds
- Pause/resume auto-refresh works correctly

### Manual Tests
- Visual verification of all 12 services displayed
- Responsive layout on mobile/tablet/desktop
- Real-time status updates visible
- Dark mode compatibility

## Dev Agent Record

### Agent Model Used
Claude Sonnet 4.5

### File List
- `services/health-dashboard/src/components/ServiceCard.tsx` (new)
- `services/health-dashboard/src/components/ServicesTab.tsx` (new)
- `services/health-dashboard/src/components/Dashboard.tsx` (modified)
- `services/health-dashboard/src/types/index.ts` (new)
- `services/health-dashboard/tests/components/ServiceCard.test.tsx` (new)
- `services/health-dashboard/tests/components/ServicesTab.test.tsx` (new)
- `services/health-dashboard/tests/README.md` (new)

### Debug Log
- No issues encountered during implementation
- All components follow React dashboard UI patterns from Context7 KB
- TypeScript types properly defined
- Tailwind CSS responsive patterns applied

### Completion Notes
- Story created: 2025-10-11
- Implementation started: 2025-10-11
- Implementation completed: 2025-10-11
- All 5 tasks completed successfully
- 7 files created/modified
- Comprehensive unit tests written (ready for execution once Vitest is installed)
- Follows coding standards and best practices
- Dark/light mode fully supported
- Responsive design (mobile/tablet/desktop)
- Auto-refresh functionality with manual control
- Services grouped into Core (6) and External (6) categories

### Change Log
- 2025-10-11 10:00: Story created based on review plan Phase 1
- 2025-10-11 10:15: TypeScript types defined
- 2025-10-11 10:30: ServiceCard component implemented
- 2025-10-11 10:45: ServicesTab component implemented
- 2025-10-11 11:00: Dashboard integration completed
- 2025-10-11 11:15: Unit tests written
- 2025-10-11 11:20: Test documentation created
- 2025-10-11 11:25: Story marked Ready for Review

