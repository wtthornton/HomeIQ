version: 2.0
last_updated: 2025-10-19T00:00:00Z

# Fuzzy matching patterns for Context7 KB queries
# Helps match user queries to cached documentation

fuzzy_patterns:
  
  # Backend terms
  backend_api:
    canonical: fastapi
    aliases:
      - "fast api"
      - "api framework"
      - "rest api"
      - "async api"
      - "python api"
    threshold: 0.6
    
  websocket:
    canonical: aiohttp
    aliases:
      - "web socket"
      - "ws"
      - "async websocket"
      - "real-time"
      - "live data"
    threshold: 0.5
    
  # Database terms
  timeseries:
    canonical: influxdb
    aliases:
      - "time series"
      - "time-series"
      - "influx"
      - "tsdb"
      - "flux query"
      - "flux queries"
    threshold: 0.6
    
  database_migrations:
    canonical: alembic
    aliases:
      - "db migrations"
      - "schema migrations"
      - "database migration"
      - "migration tool"
      - "sqlalchemy migrations"
      - "alembic migrations"
    threshold: 0.5
    
  relational_database:
    canonical: sqlite
    aliases:
      - "sql lite"
      - "sqlite3"
      - "embedded database"
      - "file database"
    threshold: 0.7
    
  # Frontend terms
  react_framework:
    canonical: react
    aliases:
      - "reactjs"
      - "react.js"
      - "frontend framework"
      - "ui framework"
    threshold: 0.6
    
  typescript_lang:
    canonical: typescript
    aliases:
      - "ts"
      - "type script"
      - "typed javascript"
    threshold: 0.6
    
  build_tool:
    canonical: vite
    aliases:
      - "bundler"
      - "build system"
      - "dev server"
      - "hmr"
      - "hot reload"
    threshold: 0.5
    
  css_framework:
    canonical: tailwindcss
    aliases:
      - "tailwind"
      - "tailwind css"
      - "utility css"
      - "css utilities"
    threshold: 0.6
    
  # Testing terms
  unit_testing:
    canonical: vitest
    aliases:
      - "unit tests"
      - "component testing"
      - "test framework"
      - "jest alternative"
    threshold: 0.5
    
  e2e_testing:
    canonical: playwright
    aliases:
      - "e2e tests"
      - "end to end"
      - "integration testing"
      - "browser automation"
    threshold: 0.5
    
  visual_testing:
    canonical: puppeteer
    aliases:
      - "screenshot testing"
      - "visual regression"
      - "ui testing"
      - "chrome automation"
    threshold: 0.5
    
  python_testing:
    canonical: pytest
    aliases:
      - "py test"
      - "python tests"
      - "backend testing"
    threshold: 0.6
    
  # AI/ML terms
  transformers:
    canonical: huggingface-transformers
    aliases:
      - "hf transformers"
      - "huggingface"
      - "hugging face"
      - "transformer models"
      - "llm"
      - "language model"
      - "bert"
      - "gpt"
      - "t5"
      - "flan"
    threshold: 0.5
    
  embeddings:
    canonical: sentence-transformers
    aliases:
      - "sentence embeddings"
      - "text embeddings"
      - "semantic search"
      - "similarity search"
      - "sbert"
      - "all-minilm"
      - "minilm"
    threshold: 0.5
    
  model_optimization:
    canonical: huggingface-transformers
    related: [sentence-transformers]
    aliases:
      - "quantization"
      - "int8"
      - "int4"
      - "model compression"
      - "openvino"
      - "onnx"
      - "edge deployment"
    threshold: 0.5
    
  # Infrastructure terms
  containerization:
    canonical: docker
    aliases:
      - "containers"
      - "docker compose"
      - "compose"
      - "dockerfile"
      - "multi-stage build"
    threshold: 0.6
    
  home_automation:
    canonical: homeassistant
    aliases:
      - "home assistant"
      - "ha"
      - "hass"
      - "home automation"
      - "smart home"
    threshold: 0.5

# Topic-based matching
topic_patterns:
  
  async_programming:
    primary_library: fastapi
    related_libraries: [aiohttp, python-logging]
    keywords:
      - "async"
      - "await"
      - "asyncio"
      - "asynchronous"
      - "concurrent"
    threshold: 0.5
    
  database_operations:
    primary_library: sqlite
    related_libraries: [influxdb, alembic]
    keywords:
      - "database"
      - "db"
      - "queries"
      - "orm"
      - "sql"
      - "migrations"
    threshold: 0.5
    
  frontend_development:
    primary_library: react
    related_libraries: [typescript, vite, tailwindcss]
    keywords:
      - "ui"
      - "frontend"
      - "components"
      - "hooks"
      - "state"
      - "render"
    threshold: 0.5
    
  testing_strategies:
    primary_library: vitest
    related_libraries: [playwright, puppeteer, pytest]
    keywords:
      - "test"
      - "testing"
      - "qa"
      - "quality"
      - "coverage"
      - "assertions"
    threshold: 0.5
    
  ai_ml_inference:
    primary_library: huggingface-transformers
    related_libraries: [sentence-transformers]
    keywords:
      - "inference"
      - "prediction"
      - "model"
      - "machine learning"
      - "ml"
      - "ai"
      - "neural network"
    threshold: 0.5

# Use case matching
use_case_patterns:
  
  pattern_detection:
    description: "AI pattern detection for Home Assistant automation"
    primary_libraries: [huggingface-transformers, sentence-transformers]
    keywords:
      - "pattern"
      - "automation"
      - "smart home"
      - "routine"
      - "behavior"
    doc_reference: "AI_PATTERN_DETECTION_IMPLEMENTATION_PLAN.md"
    
  real_time_events:
    description: "Real-time event streaming and processing"
    primary_libraries: [react, influxdb, aiohttp]
    keywords:
      - "real-time"
      - "streaming"
      - "events"
      - "live"
      - "websocket"
    doc_reference: "lessons-learned-events-tab-implementation.md"
    
  database_schema_management:
    description: "Database migrations and schema evolution"
    primary_libraries: [alembic, sqlite]
    keywords:
      - "schema"
      - "migration"
      - "evolve"
      - "versioning"
      - "upgrade"
      - "downgrade"
    doc_reference: "libraries/alembic/docs.md"
    
  api_development:
    description: "RESTful API development with FastAPI"
    primary_libraries: [fastapi, sqlite, influxdb]
    keywords:
      - "api"
      - "endpoint"
      - "rest"
      - "route"
      - "service"
    doc_reference: "libraries/fastapi/docs.md"
    
  visual_validation:
    description: "Visual regression testing and screenshot validation"
    primary_libraries: [puppeteer, playwright]
    keywords:
      - "screenshot"
      - "visual"
      - "regression"
      - "ui validation"
      - "pixel perfect"
    doc_reference: "libraries/puppeteer/docs.md"

# Model-specific matching (AI/ML)
model_patterns:
  
  all_minilm:
    canonical: sentence-transformers
    model_name: "all-MiniLM-L6-v2"
    aliases:
      - "minilm"
      - "all-minilm-l6"
      - "mini lm"
    use_case: "Pattern embeddings (20MB INT8)"
    doc_section: "libraries/sentence-transformers/docs.md"
    
  flan_t5:
    canonical: huggingface-transformers
    model_name: "flan-t5-small"
    aliases:
      - "t5"
      - "flan"
      - "text-to-text"
    use_case: "Pattern classification (80MB INT8)"
    doc_section: "libraries/huggingface-transformers/docs.md"
    
  bge_reranker:
    canonical: huggingface-transformers
    model_name: "bge-reranker-base-int8-ov"
    aliases:
      - "bge"
      - "reranker"
      - "re-ranking"
    use_case: "Pattern re-ranking (280MB INT8)"
    doc_section: "libraries/huggingface-transformers/docs.md"

# Common query patterns
query_shortcuts:
  
  "how to migrate database":
    redirect_to: alembic
    doc_section: "libraries/alembic/docs.md"
    
  "semantic search":
    redirect_to: sentence-transformers
    doc_section: "libraries/sentence-transformers/docs.md"
    
  "quantize model":
    redirect_to: huggingface-transformers
    doc_section: "libraries/huggingface-transformers/docs.md#openvino-integration"
    
  "real-time data":
    redirect_to: react
    doc_section: "lessons-learned-events-tab-implementation.md"
    
  "async fastapi":
    redirect_to: fastapi
    doc_section: "libraries/fastapi/docs.md"
    
  "visual testing":
    redirect_to: puppeteer
    doc_section: "libraries/puppeteer/docs.md"

metadata:
  total_fuzzy_patterns: 20
  total_topic_patterns: 5
  total_use_case_patterns: 5
  total_model_patterns: 3
  total_query_shortcuts: 6
  default_threshold: 0.5
  last_validated: 2025-10-19T00:00:00Z
