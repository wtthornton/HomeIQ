---
alwaysApply: true
description: BMAD workflow integration and process guidelines - Updated for Phase 1 features
---

# BMAD Workflow Integration

This rule provides guidance on BMAD workflows and the new Phase 1 features optimized for Cursor.

## Workflow Initialization (NEW - Phase 1)

### Quick Start
```bash
@bmad-master *workflow-init
```

This command:
- Analyzes your project automatically
- Recommends one of three workflow tracks:
  - âš¡ **Quick Flow** (< 5 min) - Bug fixes, small features
  - ðŸ“‹ **BMad Method** (< 15 min) - Standard development
  - ðŸ¢ **Enterprise** (< 30 min) - Compliance, complex projects
- Updates `.bmad-core/core-config.yaml` with selection

### Workflow Tracks

#### Quick Flow Track
**Use for:** Bug fixes, small features, hotfixes
- Minimal planning overhead
- Direct to implementation
- Optional tech spec
- Quick QA review
- **Workflow:** `quick-fix.yaml`

#### BMad Method Track (Standard)
**Use for:** New features, standard development
- Full PRD + Architecture + UX (if needed)
- Story-driven development
- Comprehensive QA
- **Workflows:** `greenfield-*.yaml` or `brownfield-*.yaml`

#### Enterprise Track
**Use for:** Enterprise apps, compliance, complex projects
- Full governance suite
- Enhanced documentation
- Compliance checkpoints
- Risk assessment mandatory
- Extended QA gates

## Agent Customization (NEW - Phase 1)

### Create Customizations
Create `.bmad-core/customizations/{agent-id}-custom.yaml` to customize agents:

```yaml
agent_id: dev
persona_overrides:
  additional_principles:
    - "Always use type hints in Python"
  communication_style:
    tone: "technical"
project_context:
  always_load:
    - "docs/architecture/performance-patterns.md"
```

### Cursor Integration
- Customizations are automatically loaded on agent activation
- Use `mdc:.bmad-core/customizations/` for file references
- Customizations persist through BMAD updates (gitignored)

See [.bmad-core/customizations/README.md](mdc:.bmad-core/customizations/README.md) for full guide.

## Enhanced Document Sharding (NEW - Phase 1)

### Features
- **90% token savings** through intelligent section loading
- **Cross-reference detection** - automatic relationship mapping
- **`.cross-refs.json`** metadata for intelligent loading
- **Enhanced index files** with cross-references

### Usage
```bash
@bmad-master *shard-doc docs/prd.md docs/prd
```

**Output:**
- Sharded sections in `docs/prd/`
- `index.md` with cross-references
- `.cross-refs.json` with section relationships
- Token savings report

## Quick Fix Workflow (NEW - Phase 1)

### When to Use
- Bug fixes in existing code
- Small features (< 5 files typically)
- Hotfixes and urgent patches
- Minor enhancements
- Single service/module changes

### Workflow Steps
1. Analyze change scope
2. Optional: Create brief tech spec
3. Implement fix
4. Optional: Quick QA review
5. Verify and complete

### Time Estimates
- Simple fix: < 30 minutes
- With spec: < 1 hour
- With QA: < 2 hours

**Workflow file:** [.bmad-core/workflows/quick-fix.yaml](mdc:.bmad-core/workflows/quick-fix.yaml)

## Visual Workflow Diagrams (NEW - Phase 1)

Workflows now support SVG diagrams for better visualization:
- Add `svg_diagram:` field to workflow YAML (inline)
- Or `svg_diagram_file:` to reference external SVG
- See [.bmad-core/utils/svg-workflow-generator.md](mdc:.bmad-core/utils/svg-workflow-generator.md) for generation guide

## Cursor-Specific Optimizations

### File References
- Use `mdc:` prefix for file references in Cursor rules
- Example: `[file](mdc:.bmad-core/agents/bmad-master.md)`

### Agent Activation
- Use `@agent-name` to activate agents in Cursor
- Agents automatically load customizations if present
- Workflow-init works seamlessly with Cursor's file system access

### Context Management
- Enhanced sharding reduces token usage by 90%
- Load only needed sections using cross-references
- Use `.cross-refs.json` to find related sections

## Best Practices for Cursor

1. **Start with Workflow Init**: Run `*workflow-init` for new projects
2. **Use Quick Fix**: For small changes, use quick-fix workflow
3. **Customize Agents**: Create customizations for your team's style
4. **Leverage Sharding**: Shard large docs for better performance
5. **Check Cross-References**: Use `.cross-refs.json` for related sections

## Reference

- **User Guide**: [.bmad-core/user-guide.md](mdc:.bmad-core/user-guide.md)
- **Workflows**: [.bmad-core/workflows/](mdc:.bmad-core/workflows/)
- **Customizations**: [.bmad-core/customizations/README.md](mdc:.bmad-core/customizations/README.md)
- **Phase 1 Summary**: [implementation/PHASE1_IMPLEMENTATION_COMPLETE.md](mdc:implementation/PHASE1_IMPLEMENTATION_COMPLETE.md)
